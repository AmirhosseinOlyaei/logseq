- [[SQL]] [[assessment]]
-
	- **Describe the code in technical interview**
		- In a technical interview, you can describe the provided SQL code as follows:
		- "This SQL code demonstrates the creation of tables, loading of data, querying the tables using specific criteria, and updating data based on given conditions. The code follows a complete process that can be re-run multiple times.
		- First, we drop the tables (`employee`, `contact`, and `address`) if they already exist. Then, we proceed to create the necessary tables with the appropriate field types. The `employee` table includes fields for `id` (integer), `fname`, `lname`, `age` (integer), and `hiredate` (date). Similarly, the `address` table has fields for `id`, `address1`, `address2`, `city`, `state`, and `zip`. Lastly, the `contact` table consists of fields for `id`, `cellphone`, `homephone`, and `email`.
		- Next, we load the provided data into each table using the `INSERT INTO` statements. The data is accurately mapped to the corresponding fields.
		- To fulfill the first requirement, we execute a query that joins the `employee` and `address` tables using the `id` field. The query selects `fname`, `lname`, `age`, `city`, and `state` from the joined tables, filtering the results based on the condition `fname = 'Alan'`.
		- For the second requirement, we perform another join operation, this time involving the `employee`, `address`, and `contact` tables. The query retrieves `fname`, `lname`, `age`, `city`, `state`, and `email` from the joined tables, filtering the results where `email = 'james.betternot@hotmail.com'`.
		- To address the third requirement, we update Susan Shepard's cellphone number using a subquery. We match the `id` in the `contact` table to the `id` retrieved from the `employee` table using the conditions `fname = 'Susan'` and `lname = 'Shepard'`. The updated cellphone number is set to '4383991212'.
		- Finally, we execute a query to retrieve all the data for Susan Shepard. This query joins the `employee`, `address`, and `contact` tables based on the `id` field and filters the results for `fname = 'Susan'` and `lname = 'Shepard'`."
		- Remember to provide clear explanations and demonstrate your understanding of the code's purpose and functionality.
		-
	- **provide clear explanations and demonstrate understanding of the code's purpose and functionality.**
		- Certainly! Here's a more detailed explanation of the code's purpose and functionality:
		- The provided SQL code serves as a comprehensive solution to meet the given requirements. It begins by ensuring a clean slate by dropping the existing `employee`, `contact`, and `address` tables if they already exist. This step ensures that we start with a fresh database environment.
		- Next, the code proceeds to create the necessary tables. The `employee` table is designed to store employee information, including fields such as `id`, `fname`, `lname`, `age`, and `hiredate`. The `address` table is responsible for storing address details, including fields like `id`, `address1`, `address2`, `city`, `state`, and `zip`. Lastly, the `contact` table is created to store contact information with fields such as `id`, `cellphone`, `homephone`, and `email`. The field types are appropriately defined based on the provided requirements.
		- Once the tables are created, the code proceeds to load the data into each table using the `INSERT INTO` statements. The provided data is inserted into the corresponding fields of each table, ensuring accurate mapping of values.
		- To fulfill the first requirement, a query is executed to join the `employee` and `address` tables using the `id` field as the common identifier. The query selects specific fields (`fname`, `lname`, `age`, `city`, and `state`) from the joined tables. It further filters the results based on the condition `fname = 'Alan'`, returning only the rows where the first name is 'Alan'. This query enables the retrieval of employee information along with their corresponding city and state when the first name is 'Alan'.
		- The second requirement is addressed by another join operation involving the `employee`, `address`, and `contact` tables. The query retrieves specific fields (`fname`, `lname`, `age`, `city`, `state`, and `email`) from the joined tables. It filters the results based on the condition `email = 'james.betternot@hotmail.com'`, returning only the rows where the email matches 'james.betternot@hotmail.com'. This query allows us to retrieve employee information, along with their corresponding city, state, and email, when the email address is 'james.betternot@hotmail.com'.
		- To fulfill the third requirement, an update statement is used to modify Susan Shepard's cellphone number. It updates the `cellphone` field in the `contact` table. The modification is performed using a subquery, which retrieves the `id` from the `employee` table where the first name is 'Susan' and the last name is 'Shepard'. This approach ensures the correct record is selected for the update operation. Susan Shepard's cellphone number is then updated to '4383991212'.
		- Lastly, a query is executed to retrieve all the data for Susan Shepard. This query performs a join operation on the `employee`, `address`, and `contact` tables using the `id` field. It filters the results to include only the rows where the first name is 'Susan' and the last name is 'Shepard'. The query returns all the available information for Susan Shepard, including her employee details, address, and contact information.
		- By thoroughly explaining the purpose and functionality of the code, you demonstrate a clear understanding of each step and the overall execution flow.
	-
	- **Output**
		- The output of the provided SQL code will be the result sets of the executed queries. Here's the expected output for each query:
		- Query 1: Join employee and address tables on id, returning fname, lname, age, city, state where fname = 'Alan'
		- | fname | lname  | age | city      | state |
		  |-------|--------|-----|-----------|-------|
		  | Alan  | Palmer | 32  | Mobile    | AL    |
		  | Alan  | Smith  | 30  | Johnson City | TN |
		- Query 2: Join employee, address, and contact tables on id, returning fname, lname, age, city, state, email where email = 'james.betternot@hotmail.com'
		- | fname | lname     | age | city       | state | email                  |
		  |-------|-----------|-----|------------|-------|------------------------|
		  | James | Betternot | 26  | Pike City  | MN    | james.betternot@hotmail.com |
		- After executing the UPDATE statement, there won't be any output. It will update the cellphone of Susan Shepard to '4383991212' in the contact table.
		- Query 3: Retrieve all data for Susan Shepard
		- | id | fname | lname  | age | hiredate   | id | address1     | address2 | city  | state | zip   | id | cellphone  | homephone  | email                      |
		  |----|-------|--------|-----|------------|----|--------------|----------|-------|-------|-------|----|------------|------------|----------------------------|
		  | 2  | Susan | Shepard | 28  | 2015-07-21 | 2  | 4800 Barkshire Dr | n/a | Pace  | FL    | 32571 | 2  | 4383991212 | 5129847873 | sshepard@yorkdevtraining.com |
		- The result will show all the columns and data related to Susan Shepard from the employee, address, and contact tables.
		- Please note that the output may vary based on the SQL environment or database management system being used, but the structure and content of the result sets will remain the same.
- | aaaaaaa | dddddd |
- ```sql
  -- Drop tables if they exist
  DROP TABLE IF EXISTS employee;
  DROP TABLE IF EXISTS contact;
  DROP TABLE IF EXISTS address;
  
  -- Create the employee table
  CREATE TABLE employee (
    id INT,
    fname TEXT,
    lname TEXT,
    age INT,
    hiredate DATE
  );
  
  -- Insert data into the employee table
  INSERT INTO employee (id, fname, lname, age, hiredate)
  VALUES
    (01, 'Alan', 'Palmer', 32, '2019-12-15'),
    (02, 'Susan', 'Shepard', 28, '2015-07-21'),
    (03, 'Justin', 'Ward', 43, '2017-08-24'),
    (04, 'Alan', 'Smith', 30, '2017-06-22'),
    (05, 'James', 'Betternot', 26, '2017-06-22'),
    (06, 'Ralph', 'White', 44, '2017-06-23'),
    (07, 'Leonard', 'Nimoy', 72, '2007-12-14'),
    (08, 'Janice', 'Rand', 61, '2016-07-06'),
    (09, 'Harry', 'Mudd', 65, '2020-07-06'),
    (10, 'Hikaru', 'Sulu', 58, '2015-03-21'),
    (11, 'James', 'Kirk', 59, '2014-01-02'),
    (12, 'Leonard', 'McCoy', 65, '2015-08-21'),
    (13, 'Pavel', 'Chekov', 44, '2014-10-15'),
    (14, 'Christopher', 'Pike', 32, '2014-11-24'),
    (15, 'Darth', 'Vader', 124, '2015-03-22'),
    (16, 'Boba', 'Fett', 49, '2015-03-22'),
    (17, 'Luke', 'Skywalker', 66, '2019-11-11'),
    (18, 'Han', 'Solo', 73, '2012-02-03'),
    (19, 'Kylo', 'Ren', 34, '2020-06-14'),
    (20, 'Galen', 'Erso', 55, '2020-06-14');
  
  -- Create the address table
  CREATE TABLE address (
    id INT,
    address1 TEXT,
    address2 TEXT,
    city TEXT,
    state varchar(2),
    zip varchar(5)
  );
  
  -- Insert data into the address table
  INSERT INTO address (id, address1, address2, city, state, zip)
  VALUES
    (01, '1211 Sudan St', 'n/a', 'Mobile', 'AL', '36609'),
    (02, '4800 Barkshire Dr', 'n/a', 'Pace', 'FL', '32571'),
    (03, '12 Nutmeg Ct', 'n/a', 'Culver City', 'CA', '90211'),
    (04, '2142 Elmwood Pl', 'n/a', 'Johnson City', 'TN', '37112'),
    (05, '777 Heavenly Ln', 'Box 13', 'Pike City', 'MN', '50877');
  
  -- Create the contact table
  CREATE TABLE contact (
    id INT,
    cellphone varchar(10),
    homephone varchar(10),
    email TEXT
  );
  
  -- Insert data into the contact table
  INSERT INTO contact (id, cellphone, homephone, email)
  VALUES
  (01, '5121325343', '5125234234', 'apalmer@yachtmail.com'),
  (02, '5129739834', '5129847873', 'sshepard@yorkdevtraining.com'),
  (03, '6453898502', '6459872345', 'jsward2007@yahoo.com'),
  (04, '8763238756', '8763736548', 'alsmith999@gmail.com'),
  (05, '8880345966', '8888567987', 'james.betternot@hotmail.com'),
  (06, '3322827765', '3328760098', 'ralph.white264@aol.com');
  
  -- Query 1: Join employee and address tables on id, returning fname, lname, age, city, state where fname = 'Alan'
  SELECT employee.fname, employee.lname, employee.age, address.city, address.state
  FROM employee
  INNER JOIN address ON employee.id = address.id
  WHERE employee.fname = 'Alan';
  
  -- Query 2: Join employee, address, and contact tables on id, returning fname, lname, age, city, state, email where email = 'james.betternot@hotmail.com'
  SELECT employee.fname, employee.lname, employee.age, address.city, address.state, contact.email
  FROM employee
  INNER JOIN address ON employee.id = address.id
  INNER JOIN contact ON employee.id = contact.id
  WHERE contact.email = 'james.betternot@hotmail.com';
  
  -- Update Susan Shepard's cellphone to be 4383991212
  UPDATE contact
  SET cellphone = '4383991212'
  WHERE id = (
  SELECT id
  FROM employee
  WHERE fname = 'Susan' AND lname = 'Shepard'
  );
  
  -- Query 3: Retrieve all data for Susan Shepard
  SELECT *
  FROM employee
  JOIN address ON employee.id = address.id
  JOIN contact ON employee.id = contact.id
  WHERE employee.fname = 'Susan' AND employee.lname = 'Shepard';
  
  ```
- ```sql
  -- Drop tables if they exist
  DROP TABLE IF EXISTS employee;
  DROP TABLE IF EXISTS contact;
  DROP TABLE IF EXISTS address;
  
  -- Create the employee table
  CREATE TABLE employee (
    id INT,
    fname TEXT,
    lname TEXT,
    age INT,
    hiredate DATE
  );
  
  -- Insert data into the employee table
  INSERT INTO employee (id, fname, lname, age, hiredate)
  VALUES
    (01, 'Alan', 'Palmer', 32, '2019-12-15'),
    (02, 'Susan', 'Shepard', 28, '2015-07-21'),
    (03, 'Justin', 'Ward', 43, '2017-08-24'),
    (04, 'Alan', 'Smith', 30, '2017-06-22'),
    (05, 'James', 'Betternot', 26, '2017-06-22'),
    (06, 'Ralph', 'White', 44, '2017-06-23'),
    (07, 'Leonard', 'Nimoy', 72, '2007-12-14'),
    (08, 'Janice', 'Rand', 61, '2016-07-06'),
    (09, 'Harry', 'Mudd', 65, '2020-07-06'),
    (10, 'Hikaru', 'Sulu', 58, '2015-03-21'),
    (11, 'James', 'Kirk', 59, '2014-01-02'),
    (12, 'Leonard', 'McCoy', 65, '2015-08-21'),
    (13, 'Pavel', 'Chekov', 44, '2014-10-15'),
    (14, 'Christopher', 'Pike', 32, '2014-11-24'),
    (15, 'Darth', 'Vader', 124, '2015-03-22'),
    (16, 'Boba', 'Fett', 49, '2015-03-22'),
    (17, 'Luke', 'Skywalker', 66, '2019-11-11'),
    (18, 'Han', 'Solo', 73, '2012-02-03'),
    (19, 'Kylo', 'Ren', 34, '2020-06-14'),
    (20, 'Galen', 'Erso', 55, '2020-06-14');
  
  -- Create the address table
  CREATE TABLE address (
    id INT,
    address1 TEXT,
    address2 TEXT,
    city TEXT,
    state varchar(2),
    zip varchar(5)
  );
  
  -- Insert data into the address table
  INSERT INTO address (id, address1, address2, city, state, zip)
  VALUES
    (01, '1211 Sudan St', 'n/a', 'Mobile', 'AL', '36609'),
    (02, '4800 Barkshire Dr', 'n/a', 'Pace', 'FL', '32571'),
    (03, '12 Nutmeg Ct', 'n/a', 'Culver City', 'CA', '90211'),
    (04, '2142 Elmwood Pl', 'n/a', 'Johnson City', 'TN', '37112'),
    (05, '777 Heavenly Ln', 'Box 13', 'Pike City', 'MN', '50877');
  
  -- Create the contact table
  CREATE TABLE contact (
    id INT,
    cellphone varchar(10),
    homephone varchar(10),
    email TEXT
  );
  
  -- Insert data into the contact table
  INSERT INTO contact (id, cellphone, homephone, email)
  VALUES
  (01, '5121325343', '5125234234', 'apalmer@yachtmail.com'),
  (02, '5129739834', '5129847873', 'sshepard@yorkdevtraining.com'),
  (03, '6453898502', '6459872345', 'jsward2007@yahoo.com'),
  (04, '8763238756', '8763736548', 'alsmith999@gmail.com'),
  (05, '8880345966', '8888567987', 'james.betternot@hotmail.com'),
  (06, '3322827765', '3328760098', 'ralph.white264@aol.com');
  
  -- Query 1: Join employee and address tables on id, returning fname, lname, age, city, state where fname = 'Alan'
  SELECT e.fname, e.lname, e.age, a.city, a.state
  FROM employee e
  INNER JOIN address a ON e.id = a.id
  WHERE e.fname = 'Alan';
  
  -- Query 2: Join employee, address, and contact tables on id, returning fname, lname, age, city, state, email where email = 'james.betternot@hotmail.com'
  SELECT e.fname, e.lname, e.age, a.city, a.state, c.email
  FROM employee e
  INNER JOIN address a ON e.id = a.id
  INNER JOIN contact c ON e.id = c.id
  WHERE c.email = 'james.betternot@hotmail.com';
  
  -- Update Susan Shepard's cellphone to be 4383991212
  UPDATE contact
  SET cellphone = '4383991212'
  WHERE id = (
  SELECT id
  FROM employee
  WHERE fname = 'Susan' AND lname = 'Shepard'
  );
  
  -- Query 3: Retrieve all data for Susan Shepard
  SELECT *
  FROM employee e
  JOIN address a ON e.id = a.id
  JOIN contact c ON e.id = c.id
  WHERE e.fname = 'Susan' AND e.lname = 'Shepard';
  ```
-